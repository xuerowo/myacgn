<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆæœŸæœ«è€ƒç¸½è¤‡ç¿’</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --bg-color: #ecf0f1;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
            --border-color: #bdc3c7;
            --code-bg: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 1000;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .sidebar-header h2 {
            margin: 0;
            font-size: 1.3rem;
            color: #3498db;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-item {
            margin: 5px 15px;
        }

        .nav-btn {
            display: block;
            width: 100%;
            background: transparent;
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: inherit;
            text-align: left;
            text-decoration: none;
        }

        .nav-btn:hover {
            background: rgba(52, 152, 219, 0.2);
            color: white;
            border-color: #3498db;
            transform: translateX(5px);
        }

        .nav-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .nav-btn i {
            margin-right: 10px;
            width: 20px;
        }

        .progress-section {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }

        .progress-title {
            font-size: 0.9rem;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.8);
        }

        .stats-mini {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .stat-mini {
            text-align: center;
            flex: 1;
        }

        .stat-mini .number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #3498db;
        }

        .stat-mini .label {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .main-content {
            flex: 1;
            margin-left: 280px;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }

        .main-content.expanded {
            margin-left: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .mobile-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--secondary-color);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: var(--border-color);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary-color), var(--success-color));
            transition: width 0.3s ease;
            width: 0%;
        }


        .section {
            background: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .section.active {
            display: block;
        }

        .section-header {
            background: var(--primary-color);
            color: white;
            padding: 25px;
            font-size: 1.8rem;
            font-weight: bold;
        }

        .section-content {
            padding: 30px;
        }

        .concept-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .concept-title {
            color: var(--secondary-color);
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: bold;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        .concept-description {
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .key-points {
            background: var(--code-bg);
            border-left: 4px solid var(--warning-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .key-points h4 {
            color: var(--warning-color);
            margin-bottom: 10px;
        }

        .code-container {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }

        .code-header {
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            font-size: 0.9rem;
            display: flex;
            justify-content: between;
            align-items: center;
        }

        .code-content {
            padding: 0;
        }

        .code-editor {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            border: none;
            outline: none;
            resize: vertical;
            background: var(--code-bg);
            color: var(--text-color);
        }

        .run-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .run-btn:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }

        .quiz-container {
            background: var(--code-bg);
            border: 2px solid var(--secondary-color);
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }

        .quiz-header {
            color: var(--secondary-color);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: white;
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .options {
            list-style: none;
        }

        .option {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: var(--bg-color);
        }

        .option.selected {
            background: var(--secondary-color);
            color: white;
        }

        .option.correct {
            background: var(--success-color);
            color: white;
        }

        .option.incorrect {
            background: var(--accent-color);
            color: white;
        }

        .submit-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 15px 0;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background: var(--primary-color);
        }

        .score-display {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            background: var(--success-color);
            color: white;
        }

        .explanation {
            background: #e8f5e8;
            border-left: 4px solid var(--success-color);
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 8px 8px 0;
        }

        .memory-tip {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .memory-tip h4 {
            color: #d35400;
            margin-bottom: 10px;
        }

        .example-box {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .example-box h4 {
            color: #1976d2;
            margin-bottom: 15px;
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.show {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .mobile-overlay.show {
                display: block;
            }
            
            .header h1 {
                font-size: 2rem;
                margin-left: 60px;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .stats-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .container {
                padding: 10px;
            }
        }

        /* Loading animation */
        .loading {
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--secondary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- ç§»å‹•ç«¯åˆ‡æ›æŒ‰éˆ• -->
    <button class="mobile-toggle" onclick="toggleSidebar()">
        <span id="toggleIcon">â˜°</span>
    </button>
    
    <!-- ç§»å‹•ç«¯é®ç½© -->
    <div class="mobile-overlay" onclick="toggleSidebar()"></div>
    
    <!-- å´é‚Šæ¬„ -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ Python OOP</h2>
            <p style="font-size: 0.9rem; color: rgba(255,255,255,0.8); margin: 10px 0 0 0;">æœŸæœ«è€ƒç¸½è¤‡ç¿’</p>
        </div>
        
        <div class="sidebar-nav">
            <div class="nav-item">
                <button class="nav-btn active" onclick="showSection('basics')">
                    <i>ğŸ“š</i>ç‰©ä»¶å°å‘åŸºç¤
                </button>
            </div>
            <div class="nav-item">
                <button class="nav-btn" onclick="showSection('advanced')">
                    <i>ğŸš€</i>ç‰©ä»¶å°å‘é€²éš
                </button>
            </div>
            <div class="nav-item">
                <button class="nav-btn" onclick="showSection('comprehensions')">
                    <i>âš¡</i>Pythonç”Ÿæˆå¼
                </button>
            </div>
            <div class="nav-item">
                <button class="nav-btn" onclick="showSection('practice')">
                    <i>ğŸ†</i>ç¶œåˆç·´ç¿’
                </button>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="progress-title">å­¸ç¿’é€²åº¦</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stats-mini">
                <div class="stat-mini">
                    <div class="number" id="totalQuestions">0</div>
                    <div class="label">ç¸½é¡Œæ•¸</div>
                </div>
                <div class="stat-mini">
                    <div class="number" id="correctAnswers">0</div>
                    <div class="label">ç­”å°æ•¸</div>
                </div>
                <div class="stat-mini">
                    <div class="number" id="accuracy">0%</div>
                    <div class="label">æº–ç¢ºç‡</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ä¸»è¦å…§å®¹å€åŸŸ -->
    <div class="main-content" id="mainContent">
        <div class="container">
            <div class="header">
                <h1>ğŸ Python ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆæœŸæœ«è€ƒç¸½è¤‡ç¿’</h1>
                <p>ä¸€ç«™å¼äº’å‹•å­¸ç¿’å¹³å° - æŒæ¡OOPæ ¸å¿ƒæ¦‚å¿µèˆ‡Pythonç”Ÿæˆå¼èªæ³•</p>
            </div>

        <!-- ç‰©ä»¶å°å‘åŸºç¤ -->
        <div id="basics" class="section active">
            <div class="section-header">
                ğŸ“š ç¬¬ä¸€éƒ¨åˆ†: ç‰©ä»¶å°å‘åŸºç¤ (Foundations of OOP)
            </div>
            <div class="section-content">
                <div class="concept-card">
                    <div class="concept-title">1. é¡åˆ¥ (Class) èˆ‡ ç‰©ä»¶ (Object)</div>
                    <div class="concept-description">
                        <strong>é¡åˆ¥ (Class)</strong>: ä¸€å€‹è—åœ–æˆ–æ¨¡æ¿ï¼Œæè¿°ä¸€ç¾¤æ“æœ‰ç›¸åŒå±¬æ€§å’Œæ–¹æ³•çš„ç‰©ä»¶ã€‚<br>
                        <strong>ç‰©ä»¶ (Object)</strong>: æ ¹æ“šé¡åˆ¥é€™å€‹è—åœ–å»ºç«‹å‡ºä¾†çš„å¯¦é«” (Instance)ã€‚
                    </div>
                    
                    <div class="memory-tip">
                        <h4>ğŸ§  è¨˜æ†¶æŠ€å·§</h4>
                        <p>æŠŠã€Œé¡åˆ¥ã€æƒ³åƒæˆã€Œæ±½è»Šè¨­è¨ˆåœ–ã€ï¼Œè€Œã€Œç‰©ä»¶ã€å°±æ˜¯æ ¹æ“šé€™å¼µè¨­è¨ˆåœ–ç”Ÿç”¢å‡ºä¾†çš„æ¯ä¸€è¼›ã€Œæ±½è»Šã€ã€‚è¨­è¨ˆåœ–åªæœ‰ä¸€å¼µï¼Œä½†æ±½è»Šå¯ä»¥æœ‰å¾ˆå¤šè¼›ï¼Œæ¯è¼›è»Šçš„é¡è‰²ã€è»Šç‰Œè™Ÿç¢¼ï¼ˆå±¬æ€§ï¼‰éƒ½å¯ä»¥ä¸åŒã€‚</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: MyComplex é¡åˆ¥</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="code1">
# å®šç¾©ä¸€å€‹ MyComplex é¡åˆ¥ (è—åœ–)
class MyComplex:
    # é¡åˆ¥å±¬æ€§ (é è¨­å€¼)
    re = 3
    im = 4
    
    # æ–¹æ³• (ç‰©ä»¶çš„åŠŸèƒ½)
    def display(self):
        # self ä»£è¡¨ç‰©ä»¶æœ¬èº«
        return f'({self.re}+{self.im}i)'

# æ ¹æ“š MyComplex é¡åˆ¥å»ºç«‹ä¸€å€‹ç‰©ä»¶ z (å¯¦é«”)
z = MyComplex()

# å­˜å–ç‰©ä»¶çš„å±¬æ€§èˆ‡æ–¹æ³•
print(f"z çš„å¯¦éƒ¨æ˜¯: {z.re}")      # è¼¸å‡º: z çš„å¯¦éƒ¨æ˜¯: 3
print(f"z çš„è¡¨ç¤ºæ³•: {z.display()}") # è¼¸å‡º: z çš„è¡¨ç¤ºæ³•: (3+4i)
                            </textarea>
                            <button class="run-btn" onclick="runCode('code1', 'output1')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="output1"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">2. å±¬æ€§ (Attribute) çš„æ“ä½œ</div>
                    <div class="concept-description">
                        å±¬æ€§åˆ†ç‚º<strong>é¡åˆ¥å±¬æ€§</strong>å’Œ<strong>å¯¦ä¾‹å±¬æ€§</strong>: 
                        <ul style="margin: 15px 0; padding-left: 30px;">
                            <li><strong>é¡åˆ¥å±¬æ€§</strong>: ç”±æ‰€æœ‰è©²é¡åˆ¥çš„ç‰©ä»¶å…±äº«</li>
                            <li><strong>å¯¦ä¾‹å±¬æ€§</strong>: å±¬æ–¼ç‰¹å®šç‰©ä»¶çš„å±¬æ€§ï¼Œæœƒé®è“‹åŒåçš„é¡åˆ¥å±¬æ€§</li>
                        </ul>
                    </div>

                    <div class="key-points">
                        <h4>âš ï¸ å¸¸è¦‹éŒ¯èª¤</h4>
                        <p>æ··æ·†é¡åˆ¥å±¬æ€§å’Œå¯¦ä¾‹å±¬æ€§ã€‚ç•¶ä½ é€éç‰©ä»¶ä¿®æ”¹å±¬æ€§æ™‚ï¼ˆz.re = 5ï¼‰ï¼Œä½ æ˜¯åœ¨å»ºç«‹æˆ–ä¿®æ”¹è©²ç‰©ä»¶çš„ã€Œå¯¦ä¾‹å±¬æ€§ã€ï¼Œä¸¦ä¸æœƒå½±éŸ¿åˆ°é¡åˆ¥æˆ–å…¶ä»–ç‰©ä»¶ã€‚</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: å±¬æ€§æ“ä½œ</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="code2">
class MyComplex:
    # é¡åˆ¥å±¬æ€§
    re = 3
    im = 4
    
    def display(self):
        return f'({self.re}+{self.im}i)'

# å»ºç«‹ç¬¬ä¸€å€‹ç‰©ä»¶
z1 = MyComplex()
print(f"z1 çš„åˆå§‹å€¼: {z1.display()}")

# ä¿®æ”¹ z1 çš„å±¬æ€§ (é€™æ˜¯å¯¦ä¾‹å±¬æ€§)
z1.re = 5
z1.im = 12
print(f"z1 ä¿®æ”¹å¾Œ: {z1.display()}")

# å»ºç«‹ç¬¬äºŒå€‹ç‰©ä»¶ z2ï¼Œå®ƒä¸å— z1 å½±éŸ¿
z2 = MyComplex()
print(f"z2 çš„åˆå§‹å€¼: {z2.display()}")

# ä¿®æ”¹ MyComplex é¡åˆ¥çš„å±¬æ€§
MyComplex.re = 7
MyComplex.im = 24

# å»ºç«‹ç¬¬ä¸‰å€‹ç‰©ä»¶ z3ï¼Œå®ƒæœƒæ¡ç”¨æ–°çš„é¡åˆ¥å±¬æ€§
z3 = MyComplex()
print(f"z3 çš„åˆå§‹å€¼: {z3.display()}")

# z1 å’Œ z2 ä¸å—é¡åˆ¥å±¬æ€§è®Šæ›´çš„å½±éŸ¿
print(f"z1 ä»ç„¶æ˜¯: {z1.display()}")
print(f"z2 ç¾åœ¨æ˜¯: {z2.display()}")  # z2æ²’æœ‰å¯¦ä¾‹å±¬æ€§ï¼Œæ‰€ä»¥æœƒä½¿ç”¨æ–°çš„é¡åˆ¥å±¬æ€§
                            </textarea>
                            <button class="run-btn" onclick="runCode('code2', 'output2')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="output2"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">3. å»ºæ§‹å­ (__init__)</div>
                    <div class="concept-description">
                        <code>__init__</code> æ˜¯ä¸€å€‹ç‰¹æ®Šçš„æ–¹æ³•ï¼ˆå»ºæ§‹å­ï¼‰ï¼Œç•¶ä½ å»ºç«‹æ–°ç‰©ä»¶æ™‚ï¼ŒPythonæœƒè‡ªå‹•å‘¼å«å®ƒä¾†é€²è¡Œåˆå§‹åŒ–ã€‚
                    </div>

                    <div class="key-points">
                        <h4>ğŸ’¡ å­¸ç¿’é‡é»</h4>
                        <ul>
                            <li>ç¬¬ä¸€å€‹åƒæ•¸æ°¸é æ˜¯ <code>self</code>ï¼Œä»£è¡¨æ­£åœ¨è¢«å»ºç«‹çš„ç‰©ä»¶</li>
                            <li>å¯ä»¥ç‚ºåƒæ•¸è¨­å®šé è¨­å€¼ï¼Œè®“ç‰©ä»¶å»ºç«‹æ™‚æ›´æœ‰å½ˆæ€§</li>
                            <li>é€šå¸¸ç”¨ä¾†è¨­å®šå¯¦ä¾‹å±¬æ€§çš„åˆå§‹å€¼</li>
                        </ul>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: å»ºæ§‹å­</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="code3">
class MyComplex:
    # å»ºæ§‹å­ï¼Œå¸¶æœ‰é è¨­å€¼
    def __init__(self, x=3, y=4):
        print("å»ºæ§‹å­ __init__ è¢«å‘¼å«äº†ï¼")
        self.re = x  # å»ºç«‹å¯¦ä¾‹å±¬æ€§ re
        self.im = y  # å»ºç«‹å¯¦ä¾‹å±¬æ€§ im
    
    def display(self):
        return f'({self.re}+{self.im}i)'

# å»ºç«‹ç‰©ä»¶æ™‚ï¼Œåƒæ•¸æœƒå‚³çµ¦ __init__
z1 = MyComplex(5, 12)
print(z1.display())

# ä¸æä¾›åƒæ•¸ï¼Œå‰‡ä½¿ç”¨é è¨­å€¼
z2 = MyComplex()
print(z2.display())

# åªæä¾›ä¸€å€‹åƒæ•¸
z3 = MyComplex(10)
print(z3.display())
                            </textarea>
                            <button class="run-btn" onclick="runCode('code3', 'output3')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="output3"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">4. ç‰©ä»¶çš„é¡¯ç¤º (__str__ èˆ‡ __repr__)</div>
                    <div class="concept-description">
                        å®¢è£½åŒ–ç‰©ä»¶çš„å­—ä¸²è¡¨ç¤ºæ–¹å¼: 
                        <ul style="margin: 15px 0; padding-left: 30px;">
                            <li><strong>__str__(self)</strong>: çµ¦ä½¿ç”¨è€…çœ‹çš„ï¼Œæ˜“æ–¼é–±è®€çš„å­—ä¸²è¡¨ç¤º</li>
                            <li><strong>__repr__(self)</strong>: çµ¦é–‹ç™¼è€…çœ‹çš„ï¼Œæ˜ç¢ºç„¡æ­§ç¾©çš„å­—ä¸²è¡¨ç¤º</li>
                        </ul>
                    </div>

                    <div class="memory-tip">
                        <h4>ğŸ§  è¨˜æ†¶æŠ€å·§</h4>
                        <p><strong>str</strong> for <strong>String</strong> (çµ¦äººçœ‹)ï¼Œ<strong>repr</strong> for <strong>Representation</strong> (çµ¦æ©Ÿå™¨/é–‹ç™¼è€…çœ‹)</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: å­—ä¸²è¡¨ç¤º</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="code4">
class MyComplex:
    def __init__(self, x=3, y=4):
        self.re = x
        self.im = y
    
    # çµ¦ä½¿ç”¨è€…çœ‹çš„ (print)
    def __str__(self):
        return f"é€™æ˜¯ä¸€å€‹è¤‡æ•¸: {self.re} + {self.im}i"
    
    # çµ¦é–‹ç™¼è€…çœ‹çš„ (ç›´æ¥é¡¯ç¤º)
    def __repr__(self):
        return f"MyComplex({self.re}, {self.im})"

z = MyComplex(5, 12)
print("ä½¿ç”¨ print():")
print(z)         # å‘¼å« __str__

print("\nä½¿ç”¨ repr():")
print(repr(z))   # å‘¼å« __repr__

print("\nåœ¨åˆ—è¡¨ä¸­:")
print([z])       # åœ¨å®¹å™¨ä¸­æœƒå‘¼å« __repr__
                            </textarea>
                            <button class="run-btn" onclick="runCode('code4', 'output4')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="output4"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">5. é‹ç®—å­å¤šè¼‰ (Operator Overloading)</div>
                    <div class="concept-description">
                        è®“å…§å»ºçš„é‹ç®—å­ï¼ˆå¦‚ +, -, *, ==ï¼‰èƒ½å¤ ä½œç”¨åœ¨ä½ è‡ªè¨‚çš„ç‰©ä»¶ä¸Šï¼Œè®“ç¨‹å¼ç¢¼æ›´ç›´è§€ã€‚
                    </div>

                    <div class="example-box">
                        <h4>ğŸ”¢ é‹ç®—å­å°æ‡‰è¡¨</h4>
                        <table style="width: 100%; border-collapse: collapse;">
                            <tr style="background: var(--code-bg);">
                                <th style="padding: 10px; border: 1px solid var(--border-color);">é‹ç®—å­</th>
                                <th style="padding: 10px; border: 1px solid var(--border-color);">ç‰¹æ®Šæ–¹æ³•</th>
                                <th style="padding: 10px; border: 1px solid var(--border-color);">æè¿°</th>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">+</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">__add__(self, other)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">åŠ æ³•</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">-</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">__sub__(self, other)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">æ¸›æ³•</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">*</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">__mul__(self, other)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">ä¹˜æ³•</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">len(obj)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">__len__(self)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">å›å‚³é•·åº¦</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">==</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">__eq__(self, other)</td>
                                <td style="padding: 10px; border: 1px solid var(--border-color);">ç­‰æ–¼æ¯”è¼ƒ</td>
                            </tr>
                        </table>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: MyVector é¡åˆ¥</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="code5">
class MyVector:
    def __init__(self, data_list=None):
        if data_list is None:
            data_list = []
        self.data = data_list.copy()
    
    def __str__(self):
        return str(self.data)
    
    def __len__(self):
        return len(self.data)
    
    def __add__(self, other):
        # æª¢æŸ¥å…©å€‹å‘é‡é•·åº¦æ˜¯å¦ç›¸åŒ
        if len(self) != len(other):
            print("éŒ¯èª¤: å‘é‡é•·åº¦ä¸åŒ¹é…ï¼Œç„¡æ³•ç›¸åŠ ï¼")
            return MyVector()  # å›å‚³ä¸€å€‹ç©ºå‘é‡
        
        # å»ºç«‹æ–°å‘é‡ä¾†å„²å­˜çµæœ
        new_data = []
        for i in range(len(self)):
            new_data.append(self.data[i] + other.data[i])
        
        return MyVector(new_data)
    
    def __eq__(self, other):
        return self.data == other.data

# --- ä½¿ç”¨ ---
v1 = MyVector([1, 2, 3])
v2 = MyVector([4, 5, 6])
v3 = MyVector([7, 8])

print(f"v1 = {v1}")
print(f"v2 = {v2}")
print(f"v3 = {v3}")

# å› ç‚ºå®šç¾©äº† __add__ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ +
result = v1 + v2
print(f"\n{v1} + {v2} = {result}")

# é•·åº¦ä¸åŒï¼Œè§¸ç™¼éŒ¯èª¤è™•ç†
result_fail = v1 + v3
print(f"å¤±æ•—çš„ç›¸åŠ çµæœ: {result_fail}")

# æ¸¬è©¦ __eq__
v4 = MyVector([1, 2, 3])
print(f"\nv1 == v4: {v1 == v4}")
print(f"v1 == v2: {v1 == v2}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('code5', 'output5')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="output5"></div>
                        </div>
                    </div>
                </div>

                <!-- åŸºç¤æ¦‚å¿µæ¸¬é©— -->
                <div class="quiz-container">
                    <div class="quiz-header">ğŸ§ª åŸºç¤æ¦‚å¿µæ¸¬é©—</div>
                    <div class="question" data-answer="1">
                        <div class="question-text">1. ä»¥ä¸‹é—œæ–¼é¡åˆ¥å’Œç‰©ä»¶çš„æè¿°ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">é¡åˆ¥æ˜¯ç‰©ä»¶çš„å¯¦é«”ï¼Œç‰©ä»¶æ˜¯é¡åˆ¥çš„è—åœ–</li>
                            <li class="option" data-value="1">é¡åˆ¥æ˜¯è—åœ–æˆ–æ¨¡æ¿ï¼Œç‰©ä»¶æ˜¯æ ¹æ“šé¡åˆ¥å»ºç«‹çš„å¯¦é«”</li>
                            <li class="option" data-value="2">é¡åˆ¥å’Œç‰©ä»¶æ˜¯å®Œå…¨ç›¸åŒçš„æ¦‚å¿µ</li>
                            <li class="option" data-value="3">ä¸€å€‹é¡åˆ¥åªèƒ½å»ºç«‹ä¸€å€‹ç‰©ä»¶</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="2">
                        <div class="question-text">2. åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼å¾Œï¼Œè¼¸å‡ºçµæœæ˜¯ä»€éº¼ï¼Ÿ</div>
                        <pre style="background: var(--code-bg); padding: 15px; border-radius: 5px;">
class Test:
    x = 10

t1 = Test()
t2 = Test()
t1.x = 20
print(t2.x)
                        </pre>
                        <ul class="options">
                            <li class="option" data-value="0">20</li>
                            <li class="option" data-value="1">éŒ¯èª¤</li>
                            <li class="option" data-value="2">10</li>
                            <li class="option" data-value="3">0</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="1">
                        <div class="question-text">3. __str__ å’Œ __repr__ çš„ä¸»è¦å·®ç•°æ˜¯ä»€éº¼ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">æ²’æœ‰å·®ç•°ï¼Œå¯ä»¥äº’æ›ä½¿ç”¨</li>
                            <li class="option" data-value="1">__str__ çµ¦ä½¿ç”¨è€…çœ‹ï¼Œ__repr__ çµ¦é–‹ç™¼è€…çœ‹</li>
                            <li class="option" data-value="2">__str__ çµ¦é–‹ç™¼è€…çœ‹ï¼Œ__repr__ çµ¦ä½¿ç”¨è€…çœ‹</li>
                            <li class="option" data-value="3">__str__ ç”¨æ–¼å­—ä¸²æ“ä½œï¼Œ__repr__ ç”¨æ–¼æ•¸å€¼æ“ä½œ</li>
                        </ul>
                    </div>

                    <button class="submit-btn" onclick="checkBasicsQuiz()">æäº¤ç­”æ¡ˆ</button>
                    <div id="basicsScore" class="score-display" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- ç‰©ä»¶å°å‘é€²éš -->
        <div id="advanced" class="section">
            <div class="section-header">
                ğŸš€ ç¬¬äºŒéƒ¨åˆ†: ç‰©ä»¶å°å‘é€²éš (Advanced OOP)
            </div>
            <div class="section-content">
                <div class="concept-card">
                    <div class="concept-title">1. å°è£ (Encapsulation): ç§æœ‰æˆå“¡</div>
                    <div class="concept-description">
                        å°è£çš„æ ¸å¿ƒæ€æƒ³æ˜¯ã€Œéš±è—å…§éƒ¨ç´°ç¯€ã€ï¼Œä¸è®“å¤–éƒ¨ç¨‹å¼ç¢¼éš¨æ„å­˜å–æˆ–ä¿®æ”¹ç‰©ä»¶çš„å…§éƒ¨ç‹€æ…‹ã€‚
                    </div>

                    <div class="key-points">
                        <h4>ğŸ›¡ï¸ ç‚ºä»€éº¼è¦å°è£ï¼Ÿ</h4>
                        <ul>
                            <li><strong>ä¿è­·è³‡æ–™</strong>: é˜²æ­¢è³‡æ–™è¢«æ„å¤–æˆ–æƒ¡æ„åœ°æ”¹æˆä¸åˆç†çš„ç‹€æ…‹</li>
                            <li><strong>é™ä½è€¦åˆ</strong>: å…§éƒ¨å¯¦ä½œå¯ä»¥éš¨æ™‚ä¿®æ”¹ï¼Œåªè¦å…¬é–‹çš„æ¥å£ä¸è®Š</li>
                            <li><strong>æé«˜ç¶­è­·æ€§</strong>: æ¸›å°‘å¤–éƒ¨å°å…§éƒ¨ç´°ç¯€çš„ä¾è³´</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <h4>ğŸ”§ å¯¦ç¾æ–¹å¼</h4>
                        <p>åœ¨å±¬æ€§æˆ–æ–¹æ³•åç¨±å‰åŠ ä¸Šå…©å€‹åº•ç·š <code>__</code>ï¼Œä¾‹å¦‚ <code>self.__radius</code>ã€‚Pythonæœƒå°é€™å€‹åç¨±é€²è¡Œã€Œåç¨±ä¿®é£¾ (Name Mangling)ã€ã€‚</p>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">2. Getter èˆ‡ Setter æ–¹æ³•</div>
                    <div class="concept-description">
                        é€™æ˜¯å¯¦ç¾å°è£çš„æ¨™æº–æ¨¡å¼: 
                        <ul style="margin: 15px 0; padding-left: 30px;">
                            <li><strong>Setter</strong>: ç”¨ä¾†è¨­å®šç§æœ‰å±¬æ€§çš„å€¼ï¼Œå¯ä»¥åŠ å…¥æª¢æŸ¥é‚è¼¯</li>
                            <li><strong>Getter</strong>: ç”¨ä¾†è®€å–ç§æœ‰å±¬æ€§çš„å€¼</li>
                        </ul>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: Circle é¡åˆ¥</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="advanced_code1">
class Circle:
    def __init__(self, cx=0, cy=0, r=1):
        self.cx = cx
        self.cy = cy
        # åœ¨å»ºæ§‹å­ä¸­å°±é€é setter ä¾†è¨­å®šåŠå¾‘ï¼Œç¢ºä¿åˆå§‹å€¼ä¹Ÿåˆæ³•
        self.set_radius(r)
    
    def __str__(self):
        # åœ¨é¡åˆ¥å…§éƒ¨ï¼Œå¯ä»¥ç”¨ self.__radius ä¾†å­˜å–
        return f"åœ“å¿ƒ:({self.cx}, {self.cy}), åŠå¾‘:{self.__radius}"
    
    # Setter æ–¹æ³•
    def set_radius(self, r):
        if r < 0:
            # å¦‚æœå€¼ä¸åˆæ³•ï¼Œæ‹‹å‡ºéŒ¯èª¤ï¼Œé˜»æ­¢è³¦å€¼
            raise ValueError("åŠå¾‘ä¸èƒ½ç‚ºè² å€¼")
        self.__radius = r
    
    # Getter æ–¹æ³•
    def get_radius(self):
        return self.__radius
    
    def area(self):
        # è¨ˆç®—é¢ç©æ™‚ï¼Œä½¿ç”¨ç§æœ‰å±¬æ€§
        return 3.14159 * self.__radius ** 2

# --- ä½¿ç”¨ ---
try:
    c1 = Circle(0, 0, 5)
    print(c1)
    print(f"é¢ç©: {c1.area():.2f}")
    
    print(f"é€é getter å–å¾—åŠå¾‘: {c1.get_radius()}")
    
    # ä¿®æ”¹åŠå¾‘
    c1.set_radius(10)
    print(f"ä¿®æ”¹å¾Œ: {c1}")
    
    # è©¦åœ–è¨­å®šä¸€å€‹ä¸åˆæ³•çš„å€¼
    c1.set_radius(-2)
    
except ValueError as e:
    print(f"ç™¼ç”ŸéŒ¯èª¤: {e}")

# ä½ ç„¡æ³•å¾å¤–éƒ¨ç›´æ¥å­˜å– __radius
# print(c1.__radius)  # é€™è¡Œæœƒå¼•ç™¼ AttributeError
                            </textarea>
                            <button class="run-btn" onclick="runCode('advanced_code1', 'advanced_output1')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="advanced_output1"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">3. ç¹¼æ‰¿ (Inheritance)</div>
                    <div class="concept-description">
                        ç¹¼æ‰¿å…è¨±ä½ å»ºç«‹ä¸€å€‹æ–°é¡åˆ¥ï¼ˆå­é¡åˆ¥ï¼‰ï¼Œå®ƒæœƒç¹¼æ‰¿ä¸€å€‹æ—¢æœ‰é¡åˆ¥ï¼ˆçˆ¶é¡åˆ¥ï¼‰çš„æ‰€æœ‰éç§æœ‰æˆå“¡ã€‚
                    </div>

                    <div class="key-points">
                        <h4>âœ¨ ç¹¼æ‰¿çš„å„ªé»</h4>
                        <ul>
                            <li><strong>ç¨‹å¼ç¢¼é‡ç”¨</strong>: ä¸ç”¨é‡è¤‡æ’°å¯«ç›¸åŒçš„åŠŸèƒ½</li>
                            <li><strong>æ˜“æ–¼æ“´å……</strong>: å¯ä»¥åœ¨å­é¡åˆ¥ä¸­æ–°å¢çˆ¶é¡åˆ¥æ²’æœ‰çš„åŠŸèƒ½</li>
                            <li><strong>å»ºç«‹å±¤æ¬¡é—œä¿‚</strong>: æ›´å¥½åœ°çµ„ç¹”ç¨‹å¼ç¢¼ï¼Œåæ˜ çœŸå¯¦ä¸–ç•Œçš„é—œä¿‚</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <h4>ğŸ“ èªæ³•</h4>
                        <code>class ChildClass(ParentClass):</code>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">4. è¦†è“‹ (Overriding) èˆ‡ super()</div>
                    <div class="concept-description">
                        <ul style="margin: 15px 0; padding-left: 30px;">
                            <li><strong>è¦†è“‹ (Overriding)</strong>: å­é¡åˆ¥å®šç¾©åŒåæ–¹æ³•ä¾†è¦†è“‹çˆ¶é¡åˆ¥çš„æ–¹æ³•</li>
                            <li><strong>super()</strong>: åœ¨å­é¡åˆ¥ä¸­å‘¼å«è¢«è¦†è“‹çš„çˆ¶é¡åˆ¥ç‰ˆæœ¬çš„æ–¹æ³•</li>
                        </ul>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: ç¹¼æ‰¿èˆ‡è¦†è“‹</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="advanced_code2">
# çˆ¶é¡åˆ¥
class Animal:
    def __init__(self, name):
        self.name = name
        print(f"å‹•ç‰© {name} è¢«å‰µå»ºäº†")
    
    def speak(self):
        return "æˆ‘ä¸çŸ¥é“æ€éº¼å«..."
    
    def info(self):
        return f"æˆ‘æ˜¯ {self.name}"

# å­é¡åˆ¥ï¼Œç¹¼æ‰¿è‡ª Animal
class Dog(Animal):
    def __init__(self, name, breed):
        # å‘¼å«çˆ¶é¡åˆ¥çš„å»ºæ§‹å­ï¼Œå®Œæˆ name çš„åˆå§‹åŒ–
        super().__init__(name)
        self.breed = breed  # æ–°å¢è‡ªå·±çš„å±¬æ€§
        print(f"ç‹—ç‹—å“ç¨®: {breed}")
    
    # è¦†è“‹çˆ¶é¡åˆ¥çš„ speak æ–¹æ³•
    def speak(self):
        return "æ±ªï¼æ±ªï¼"
    
    # æ–°å¢å­é¡åˆ¥ç‰¹æœ‰çš„æ–¹æ³•
    def fetch(self):
        return f"{self.name} æ­£åœ¨æ’¿çƒï¼"
    
    # è¦†è“‹ info æ–¹æ³•ï¼Œä½†ä»ä½¿ç”¨çˆ¶é¡åˆ¥çš„éƒ¨åˆ†åŠŸèƒ½
    def info(self):
        basic_info = super().info()  # å‘¼å«çˆ¶é¡åˆ¥çš„ info()
        return f"{basic_info}ï¼Œæˆ‘æ˜¯ä¸€éš» {self.breed}"

# å¦ä¸€å€‹å­é¡åˆ¥
class Cat(Animal):
    def speak(self):
        return "å–µï½"
    
    def climb(self):
        return f"{self.name} æ­£åœ¨çˆ¬æ¨¹ï¼"

# --- ä½¿ç”¨ ---
print("=== å‰µå»ºå‹•ç‰© ===")
generic_animal = Animal("ç¥ç§˜ç”Ÿç‰©")
print(f"{generic_animal.info()} èªª: {generic_animal.speak()}")

print("\n=== å‰µå»ºç‹—ç‹— ===")
my_dog = Dog("å°ç™½", "æŸ´çŠ¬")
print(f"{my_dog.info()} èªª: {my_dog.speak()}")
print(my_dog.fetch())

print("\n=== å‰µå»ºè²“å’ª ===")
my_cat = Cat("å’ªå’ª")
print(f"{my_cat.info()} èªª: {my_cat.speak()}")
print(my_cat.climb())

# å±•ç¤ºç¹¼æ‰¿çš„ç‰¹æ€§
print(f"\n=== é¡åˆ¥é—œä¿‚ ===")
print(f"my_dog æ˜¯ Dog çš„å¯¦ä¾‹å—ï¼Ÿ {isinstance(my_dog, Dog)}")
print(f"my_dog æ˜¯ Animal çš„å¯¦ä¾‹å—ï¼Ÿ {isinstance(my_dog, Animal)}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('advanced_code2', 'advanced_output2')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="advanced_output2"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">5. å¤šå‹ (Polymorphism)</div>
                    <div class="concept-description">
                        å¤šå‹æŒ‡çš„æ˜¯ä¸åŒçš„ç‰©ä»¶ï¼ˆå³ä½¿ä¾†è‡ªä¸åŒçš„é¡åˆ¥ï¼‰å¯ä»¥ç”¨åŒæ¨£çš„æ–¹å¼å°å¾…ï¼Œåªè¦å®ƒå€‘å…±äº«ä¸€å€‹å…±é€šçš„ä»‹é¢ã€‚
                    </div>

                    <div class="memory-tip">
                        <h4>ğŸ§  å¤šå‹çš„ç²¾é«“</h4>
                        <p>ã€Œä¸ç®¡ä½ æ˜¯åœ“å½¢é‚„æ˜¯æ©¢åœ“ï¼Œæˆ‘éƒ½å¯ä»¥å‘¼å« .area() ä¾†è¨ˆç®—é¢ç©ã€ã€‚å®ƒè®“æˆ‘å€‘çš„ç¨‹å¼ç¢¼æ›´æœ‰å½ˆæ€§ï¼Œå¯ä»¥è™•ç†å¤šç¨®é¡å‹çš„ç‰©ä»¶ã€‚</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: å¤šå‹æ‡‰ç”¨</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="advanced_code3">
# å®šç¾©ä¸€å€‹åŸºç¤çš„å½¢ç‹€é¡åˆ¥
class Shape:
    def __init__(self, name):
        self.name = name
    
    def area(self):
        raise NotImplementedError("å­é¡åˆ¥å¿…é ˆå¯¦ä½œ area æ–¹æ³•")
    
    def info(self):
        return f"æˆ‘æ˜¯ {self.name}"

# åœ“å½¢é¡åˆ¥
class Circle(Shape):
    def __init__(self, radius):
        super().__init__("åœ“å½¢")
        self.radius = radius
    
    def area(self):
        return 3.14159 * self.radius ** 2

# çŸ©å½¢é¡åˆ¥
class Rectangle(Shape):
    def __init__(self, width, height):
        super().__init__("çŸ©å½¢")
        self.width = width
        self.height = height
    
    def area(self):
        return self.width * self.height

# ä¸‰è§’å½¢é¡åˆ¥
class Triangle(Shape):
    def __init__(self, base, height):
        super().__init__("ä¸‰è§’å½¢")
        self.base = base
        self.height = height
    
    def area(self):
        return 0.5 * self.base * self.height

# å¤šå‹çš„é—œéµ: é€™å€‹å‡½å¼ä¸åœ¨ä¹å‚³é€²ä¾†çš„æ˜¯ä»€éº¼å½¢ç‹€
def print_shape_info(shape_object):
    print(f"{shape_object.info()}")
    print(f"é¢ç©: {shape_object.area():.2f}")
    print("-" * 20)

# å¤šå‹çš„å¦ä¸€å€‹æ‡‰ç”¨: è¨ˆç®—ç¸½é¢ç©
def calculate_total_area(shapes_list):
    total = 0
    for shape in shapes_list:
        total += shape.area()  # æ¯å€‹å½¢ç‹€éƒ½æœ‰ area() æ–¹æ³•
    return total

# --- ä½¿ç”¨å¤šå‹ ---
# å»ºç«‹ä¸åŒçš„å½¢ç‹€ç‰©ä»¶
circle = Circle(5)
rectangle = Rectangle(4, 6)
triangle = Triangle(3, 8)

# å°‡ä¸åŒé¡åˆ¥çš„ç‰©ä»¶æ”¾åœ¨åŒä¸€å€‹åˆ—è¡¨ä¸­
shapes = [circle, rectangle, triangle]

print("=== å€‹åˆ¥å½¢ç‹€è³‡è¨Š ===")
# å°æ¯å€‹å½¢ç‹€ç‰©ä»¶å‘¼å«ç›¸åŒçš„å‡½å¼
for shape in shapes:
    print_shape_info(shape)

print(f"=== ç¸½é¢ç©è¨ˆç®— ===")
total_area = calculate_total_area(shapes)
print(f"æ‰€æœ‰å½¢ç‹€çš„ç¸½é¢ç©: {total_area:.2f}")

# å±•ç¤ºå¤šå‹çš„å¨åŠ›: å¯ä»¥è¼•é¬†æ–°å¢æ–°çš„å½¢ç‹€é¡åˆ¥
class Ellipse(Shape):
    def __init__(self, a, b):
        super().__init__("æ©¢åœ“")
        self.a = a  # é•·è»¸
        self.b = b  # çŸ­è»¸
    
    def area(self):
        return 3.14159 * self.a * self.b

ellipse = Ellipse(3, 2)
shapes.append(ellipse)

print(f"\n=== æ–°å¢æ©¢åœ“å¾Œçš„ç¸½é¢ç© ===")
new_total = calculate_total_area(shapes)
print(f"åŒ…å«æ©¢åœ“çš„ç¸½é¢ç©: {new_total:.2f}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('advanced_code3', 'advanced_output3')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="advanced_output3"></div>
                        </div>
                    </div>
                </div>

                <!-- é€²éšæ¦‚å¿µæ¸¬é©— -->
                <div class="quiz-container">
                    <div class="quiz-header">ğŸ¯ é€²éšæ¦‚å¿µæ¸¬é©—</div>
                    <div class="question" data-answer="2">
                        <div class="question-text">1. é—œæ–¼å°è£çš„æè¿°ï¼Œä½•è€…éŒ¯èª¤ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">å°è£å¯ä»¥ä¿è­·è³‡æ–™ä¸è¢«å¤–éƒ¨éš¨æ„ä¿®æ”¹</li>
                            <li class="option" data-value="1">ä½¿ç”¨å…©å€‹åº•ç·š__å¯ä»¥å»ºç«‹ç§æœ‰æˆå“¡</li>
                            <li class="option" data-value="2">Pythonçš„ç§æœ‰æˆå“¡æ˜¯çµ•å°ç„¡æ³•å¾å¤–éƒ¨å­˜å–çš„</li>
                            <li class="option" data-value="3">Getterå’ŒSetteræ˜¯å¯¦ç¾å°è£çš„å¸¸è¦‹æ¨¡å¼</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="1">
                        <div class="question-text">2. åœ¨å­é¡åˆ¥ä¸­ï¼Œsuper()çš„ä¸»è¦ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">å»ºç«‹ä¸€å€‹æ–°çš„çˆ¶é¡åˆ¥ç‰©ä»¶</li>
                            <li class="option" data-value="1">å‘¼å«çˆ¶é¡åˆ¥çš„æ–¹æ³•</li>
                            <li class="option" data-value="2">æª¢æŸ¥é¡åˆ¥çš„ç¹¼æ‰¿é—œä¿‚</li>
                            <li class="option" data-value="3">åˆªé™¤çˆ¶é¡åˆ¥çš„å±¬æ€§</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="3">
                        <div class="question-text">3. å¤šå‹çš„ä¸»è¦å„ªé»æ˜¯ä»€éº¼ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">æé«˜ç¨‹å¼åŸ·è¡Œé€Ÿåº¦</li>
                            <li class="option" data-value="1">æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨é‡</li>
                            <li class="option" data-value="2">ç°¡åŒ–é¡åˆ¥å®šç¾©</li>
                            <li class="option" data-value="3">è®“ç¨‹å¼ç¢¼æ›´æœ‰å½ˆæ€§ï¼Œå¯ä»¥è™•ç†å¤šç¨®é¡å‹çš„ç‰©ä»¶</li>
                        </ul>
                    </div>

                    <button class="submit-btn" onclick="checkAdvancedQuiz()">æäº¤ç­”æ¡ˆ</button>
                    <div id="advancedScore" class="score-display" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Pythonç”Ÿæˆå¼ -->
        <div id="comprehensions" class="section">
            <div class="section-header">
                âš¡ ç¬¬ä¸‰éƒ¨åˆ†: Python ç”Ÿæˆå¼èˆ‡è³‡æ–™çµæ§‹
            </div>
            <div class="section-content">
                <div class="concept-card">
                    <div class="concept-title">1. æ¢ä»¶é‹ç®—å¼ (ä¸‰å…ƒé‹ç®—å­)</div>
                    <div class="concept-description">
                        è®“ä½ ç”¨ä¸€è¡Œç¨‹å¼ç¢¼å®Œæˆç°¡å–®çš„ if-else åˆ¤æ–·ï¼Œè®“ç¨‹å¼ç¢¼æ›´ç°¡æ½”å„ªé›…ã€‚
                    </div>

                    <div class="example-box">
                        <h4>ğŸ“ èªæ³•</h4>
                        <code>value_if_true if condition else value_if_false</code>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: æ¢ä»¶é‹ç®—å¼</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="comp_code1">
# åŸºæœ¬çš„æ¢ä»¶é‹ç®—å¼
score = 85
result = "åŠæ ¼" if score >= 60 else "ä¸åŠæ ¼"
print(f"åˆ†æ•¸ {score}: {result}")

# å¤šå€‹æ¢ä»¶é‹ç®—å¼çš„çµ„åˆ
age = 17
status = "æˆå¹´äºº" if age >= 18 else "æœªæˆå¹´"
print(f"å¹´é½¡ {age}: {status}")

# åœ¨å‡½å¼ä¸­ä½¿ç”¨
def get_grade(score):
    return "A" if score >= 90 else "B" if score >= 80 else "C" if score >= 70 else "D" if score >= 60 else "F"

# æ¸¬è©¦ä¸åŒåˆ†æ•¸
scores = [95, 87, 73, 65, 45]
for s in scores:
    grade = get_grade(s)
    print(f"åˆ†æ•¸ {s} -> ç­‰ç´š {grade}")

# åœ¨åˆ—è¡¨æ“ä½œä¸­ä½¿ç”¨
numbers = [-3, -1, 0, 2, 5, -8, 10]
print(f"åŸå§‹æ•¸å­—: {numbers}")

# å°‡è² æ•¸è½‰ç‚º0ï¼Œæ­£æ•¸ä¿æŒä¸è®Š
positive_numbers = [x if x > 0 else 0 for x in numbers]
print(f"è™•ç†å¾Œ: {positive_numbers}")

# çµ•å°å€¼è™•ç†
abs_numbers = [x if x >= 0 else -x for x in numbers]
print(f"çµ•å°å€¼: {abs_numbers}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('comp_code1', 'comp_output1')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="comp_output1"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">2. ä¸²åˆ—ç”Ÿæˆå¼ (List Comprehension)</div>
                    <div class="concept-description">
                        Pythonçš„ä¸€å¤§ç‰¹è‰²ï¼Œèƒ½ç”¨æ¥µå…¶ç°¡æ½”çš„èªæ³•å¾ä¸€å€‹å¯è¿­ä»£ç‰©ä»¶ç”¢ç”Ÿæ–°çš„ä¸²åˆ—ã€‚
                    </div>

                    <div class="example-box">
                        <h4>ğŸ“ èªæ³•</h4>
                        <ul>
                            <li><strong>åŸºæœ¬èªæ³•</strong>: <code>[expression for item in iterable]</code></li>
                            <li><strong>å¸¶æ¢ä»¶</strong>: <code>[expression for item in iterable if condition]</code></li>
                        </ul>
                    </div>

                    <div class="memory-tip">
                        <h4>ğŸ§  å­¸ç¿’æŠ€å·§</h4>
                        <p>æŠŠå®ƒæ‹†é–‹ä¾†å¿µï¼Œå°±è·Ÿ for è¿´åœˆä¸€æ¨¡ä¸€æ¨£: <br><code>[x*x for x in range(10) if x % 2 == 0]</code><br>ã€Œæˆ‘è¦ä¸€å€‹ x*x çš„ä¸²åˆ—ï¼Œé€™å€‹ x ä¾†è‡ª range(10)ï¼Œä½†å‰ææ˜¯ x å¿…é ˆæ˜¯å¶æ•¸ã€‚ã€</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: ä¸²åˆ—ç”Ÿæˆå¼</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="comp_code2">
# === åŸºæœ¬ä¸²åˆ—ç”Ÿæˆå¼ ===
print("=== åŸºæœ¬ç”¨æ³• ===")

# å‚³çµ± for è¿´åœˆå¯«æ³•
squares_traditional = []
for i in range(10):
    squares_traditional.append(i * i)
print(f"å‚³çµ±æ–¹æ³•: {squares_traditional}")

# ä¸²åˆ—ç”Ÿæˆå¼å¯«æ³•
squares_comp = [i * i for i in range(10)]
print(f"ç”Ÿæˆå¼: {squares_comp}")

# === å¸¶æ¢ä»¶çš„ä¸²åˆ—ç”Ÿæˆå¼ ===
print("\n=== å¸¶æ¢ä»¶çš„ç”¨æ³• ===")

# åªè¦å¶æ•¸çš„å¹³æ–¹
even_squares = [i * i for i in range(10) if i % 2 == 0]
print(f"å¶æ•¸å¹³æ–¹: {even_squares}")

# å¥‡æ•¸çš„ç«‹æ–¹
odd_cubes = [i ** 3 for i in range(10) if i % 2 == 1]
print(f"å¥‡æ•¸ç«‹æ–¹: {odd_cubes}")

# === å­—ä¸²è™•ç† ===
print("\n=== å­—ä¸²è™•ç† ===")
words = ["hello", "world", "python", "programming"]

# è½‰æ›ç‚ºå¤§å¯«
upper_words = [word.upper() for word in words]
print(f"å¤§å¯«: {upper_words}")

# åªè¦é•·åº¦å¤§æ–¼5çš„å­—
long_words = [word for word in words if len(word) > 5]
print(f"é•·å­—: {long_words}")

# æ¯å€‹å­—çš„é•·åº¦
word_lengths = [len(word) for word in words]
print(f"å­—é•·: {word_lengths}")

# === å·¢ç‹€è¿´åœˆ ===
print("\n=== å·¢ç‹€è¿´åœˆ ===")

# å»ºç«‹åº§æ¨™é»
coordinates = [(x, y) for x in range(3) for y in range(3)]
print(f"åº§æ¨™é»: {coordinates}")

# ä¹˜æ³•è¡¨çš„ä¸€éƒ¨åˆ†
multiplication = [f"{i}x{j}={i*j}" for i in range(1, 4) for j in range(1, 4)]
print(f"ä¹˜æ³•è¡¨: {multiplication}")

# === è¤‡é›œæ¢ä»¶ ===
print("\n=== è¤‡é›œæ¢ä»¶ ===")
numbers = range(1, 21)

# èƒ½è¢«3æ•´é™¤ä½†ä¸èƒ½è¢«5æ•´é™¤çš„æ•¸
special_numbers = [n for n in numbers if n % 3 == 0 and n % 5 != 0]
print(f"ç‰¹æ®Šæ•¸å­—: {special_numbers}")

# è³ªæ•¸æª¢æŸ¥ï¼ˆç°¡å–®ç‰ˆï¼‰
def is_prime(n):
    if n < 2:
        return False
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0:
            return False
    return True

primes = [n for n in range(2, 30) if is_prime(n)]
print(f"è³ªæ•¸: {primes}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('comp_code2', 'comp_output2')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="comp_output2"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">3. zip() å‡½å¼</div>
                    <div class="concept-description">
                        <code>zip()</code> å¯ä»¥æŠŠå¤šå€‹å¯è¿­ä»£ç‰©ä»¶ã€Œæ‹‰éŠã€åœ¨ä¸€èµ·ï¼Œå°‡å®ƒå€‘å°æ‡‰ä½ç½®çš„å…ƒç´ çµ„æˆä¸€å€‹å€‹å…ƒçµ„ã€‚
                    </div>

                    <div class="key-points">
                        <h4>ğŸ’¡ é‡è¦ç‰¹æ€§</h4>
                        <ul>
                            <li>zip() æœƒåœ¨æœ€çŸ­çš„åºåˆ—çµæŸæ™‚åœæ­¢</li>
                            <li>è¿”å›çš„æ˜¯ zip ç‰©ä»¶ï¼Œé€šå¸¸éœ€è¦è½‰æ›ç‚º list æˆ–åœ¨è¿´åœˆä¸­ä½¿ç”¨</li>
                            <li>å¯ä»¥åŒæ™‚è™•ç†å¤šå€‹åºåˆ—</li>
                        </ul>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: zip() å‡½å¼</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="comp_code3">
# === åŸºæœ¬ zip ç”¨æ³• ===
print("=== åŸºæœ¬ zip ç”¨æ³• ===")
names = ['David', 'Johnny', 'Sean', 'Alice']
ages = [37, 18, 42, 25]
cities = ['å°åŒ—', 'é«˜é›„', 'å°ä¸­', 'æ–°ç«¹']

# zip æœƒç”¢ç”Ÿä¸€å€‹ zip ç‰©ä»¶
zipped_data = list(zip(names, ages))
print(f"å§“åå’Œå¹´é½¡: {zipped_data}")

# ä¸‰å€‹åˆ—è¡¨ä¸€èµ· zip
all_info = list(zip(names, ages, cities))
print(f"å®Œæ•´è³‡è¨Š: {all_info}")

# === é•·åº¦ä¸åŒçš„åˆ—è¡¨ ===
print("\n=== é•·åº¦ä¸åŒçš„åˆ—è¡¨ ===")
short_list = [1, 2, 3]
long_list = [10, 20, 30, 40, 50]

zipped_short = list(zip(short_list, long_list))
print(f"ä¸åŒé•·åº¦çš„zip: {zipped_short}")  # æœƒåœ¨çŸ­çš„çµæŸæ™‚åœæ­¢

# === åœ¨è¿´åœˆä¸­ä½¿ç”¨ zip ===
print("\n=== åœ¨è¿´åœˆä¸­ä½¿ç”¨ ===")
subjects = ['æ•¸å­¸', 'è‹±æ–‡', 'æ­·å²', 'åŒ–å­¸']
scores = [85, 92, 78, 88]

print("å­¸ç”Ÿæˆç¸¾å–®: ")
for subject, score in zip(subjects, scores):
    grade = "å„ªç§€" if score >= 90 else "è‰¯å¥½" if score >= 80 else "æ™®é€š"
    print(f"{subject}: {score}åˆ† ({grade})")

# === zip çš„é€†æ“ä½œ: è§£å£“ç¸® ===
print("\n=== zip çš„é€†æ“ä½œ ===")
paired_data = [('Alice', 25), ('Bob', 30), ('Charlie', 35)]
print(f"åŸå§‹é…å°: {paired_data}")

# ä½¿ç”¨ * é‹ç®—ç¬¦è§£å£“ç¸®
names_unpacked, ages_unpacked = zip(*paired_data)
print(f"è§£å£“å¾Œçš„å§“å: {list(names_unpacked)}")
print(f"è§£å£“å¾Œçš„å¹´é½¡: {list(ages_unpacked)}")

# === zip èˆ‡ enumerate çµ„åˆ ===
print("\n=== zip èˆ‡ enumerate çµ„åˆ ===")
fruits = ['è˜‹æœ', 'é¦™è•‰', 'æ©˜å­']
prices = [30, 25, 35]

print("æ°´æœåƒ¹ç›®è¡¨: ")
for index, (fruit, price) in enumerate(zip(fruits, prices), 1):
    print(f"{index}. {fruit}: ${price}")

# === å¯¦ç”¨ç¯„ä¾‹: è¨ˆç®—å‘é‡å…§ç© ===
print("\n=== å¯¦ç”¨ç¯„ä¾‹: å‘é‡å…§ç© ===")
vector1 = [1, 2, 3, 4]
vector2 = [5, 6, 7, 8]

# ä½¿ç”¨ zip è¨ˆç®—å…§ç©
dot_product = sum(a * b for a, b in zip(vector1, vector2))
print(f"å‘é‡1: {vector1}")
print(f"å‘é‡2: {vector2}")
print(f"å…§ç©: {dot_product}")

# é¡¯ç¤ºè¨ˆç®—éç¨‹
print("è¨ˆç®—éç¨‹: ")
for i, (a, b) in enumerate(zip(vector1, vector2)):
    print(f"  {a} Ã— {b} = {a * b}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('comp_code3', 'comp_output3')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="comp_output3"></div>
                        </div>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">4. å­—å…¸ç”Ÿæˆå¼ (Dictionary Comprehension)</div>
                    <div class="concept-description">
                        èˆ‡ä¸²åˆ—ç”Ÿæˆå¼é¡ä¼¼ï¼Œä½†ç”¨ä¾†å¿«é€Ÿå»ºç«‹å­—å…¸ã€‚é€™æ˜¯å°‡å…©å€‹ä¸²åˆ—è½‰æ›æˆå­—å…¸çš„æœ€é«˜æ•ˆæ–¹æ³•ã€‚
                    </div>

                    <div class="example-box">
                        <h4>ğŸ“ èªæ³•</h4>
                        <code>{key_expression: value_expression for item in iterable}</code>
                    </div>

                    <div class="key-points">
                        <h4>ğŸ¯ æœŸæœ«è€ƒé‡é»</h4>
                        <p>å­—å…¸ç”Ÿæˆå¼ç¶“å¸¸èˆ‡ <code>zip()</code> å‡½å¼æ­é…ä½¿ç”¨ï¼Œæ˜¯å°‡å…©å€‹ä¸²åˆ—è½‰æ›æˆä¸€å€‹å­—å…¸çš„æœ€é«˜æ•ˆã€æœ€ Pythonic çš„æ–¹æ³•ã€‚</p>
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç¨‹å¼ç¢¼ç¯„ä¾‹: å­—å…¸ç”Ÿæˆå¼</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="comp_code4">
# === åŸºæœ¬å­—å…¸ç”Ÿæˆå¼ ===
print("=== åŸºæœ¬å­—å…¸ç”Ÿæˆå¼ ===")

# æ•¸å­—çš„å¹³æ–¹å­—å…¸
squares_dict = {x: x**2 for x in range(1, 6)}
print(f"å¹³æ–¹å­—å…¸: {squares_dict}")

# å­—ä¸²é•·åº¦å­—å…¸
words = ['apple', 'banana', 'cherry', 'date']
length_dict = {word: len(word) for word in words}
print(f"å­—ä¸²é•·åº¦: {length_dict}")

# === ä½¿ç”¨ zip() å»ºç«‹å­—å…¸ ===
print("\n=== ä½¿ç”¨ zip() å»ºç«‹å­—å…¸ ===")
names = ['David', 'Johnny', 'Sean', 'Alice']
ages = [37, 18, 42, 25]

# å‚³çµ± for è¿´åœˆæ–¹æ³•
info_dict_traditional = {}
for i in range(len(names)):
    info_dict_traditional[names[i]] = ages[i]
print(f"å‚³çµ±æ–¹æ³•: {info_dict_traditional}")

# å­—å…¸ç”Ÿæˆå¼ + zip()
info_dict_comp = {name: age for name, age in zip(names, ages)}
print(f"ç”Ÿæˆå¼æ–¹æ³•: {info_dict_comp}")

# === å¸¶æ¢ä»¶çš„å­—å…¸ç”Ÿæˆå¼ ===
print("\n=== å¸¶æ¢ä»¶çš„å­—å…¸ç”Ÿæˆå¼ ===")

# åªè¦æˆå¹´äººçš„è³‡æ–™
adults_only = {name: age for name, age in zip(names, ages) if age >= 18}
print(f"æˆå¹´äºº: {adults_only}")

# å¶æ•¸çš„å¹³æ–¹ï¼ˆåªè¦éµæ˜¯å¶æ•¸ï¼‰
even_squares = {x: x**2 for x in range(10) if x % 2 == 0}
print(f"å¶æ•¸å¹³æ–¹: {even_squares}")

# === è¤‡é›œçš„å­—å…¸ç”Ÿæˆå¼ ===
print("\n=== è¤‡é›œçš„å­—å…¸ç”Ÿæˆå¼ ===")

# å­¸ç”Ÿæˆç¸¾è™•ç†
students = ['Alice', 'Bob', 'Charlie', 'Diana']
scores = [85, 92, 78, 96]

# å»ºç«‹æˆç¸¾ç­‰ç´šå­—å…¸
def get_grade(score):
    if score >= 90:
        return 'A'
    elif score >= 80:
        return 'B'
    elif score >= 70:
        return 'C'
    else:
        return 'D'

grade_dict = {student: get_grade(score) for student, score in zip(students, scores)}
print(f"æˆç¸¾ç­‰ç´š: {grade_dict}")

# å»ºç«‹è©³ç´°è³‡è¨Šå­—å…¸
detailed_info = {
    student: {
        'score': score, 
        'grade': get_grade(score),
        'status': 'Pass' if score >= 70 else 'Fail'
    } 
    for student, score in zip(students, scores)
}

print("\nè©³ç´°æˆç¸¾è³‡è¨Š: ")
for student, info in detailed_info.items():
    print(f"{student}: {info}")

# === å­—å…¸è½‰æ› ===
print("\n=== å­—å…¸è½‰æ› ===")
original_dict = {'a': 1, 'b': 2, 'c': 3, 'd': 4}

# å€¼ç¿»å€
doubled_dict = {k: v * 2 for k, v in original_dict.items()}
print(f"å€¼ç¿»å€: {doubled_dict}")

# éµå€¼å°èª¿
swapped_dict = {v: k for k, v in original_dict.items()}
print(f"éµå€¼å°èª¿: {swapped_dict}")

# åªä¿ç•™å¶æ•¸å€¼
even_values = {k: v for k, v in original_dict.items() if v % 2 == 0}
print(f"å¶æ•¸å€¼: {even_values}")

# === å·¢ç‹€å­—å…¸ç”Ÿæˆå¼ ===
print("\n=== å·¢ç‹€å­—å…¸ç”Ÿæˆå¼ ===")

# å»ºç«‹ä¹˜æ³•è¡¨å­—å…¸
multiplication_table = {
    i: {j: i * j for j in range(1, 4)} 
    for i in range(1, 4)
}

print("ä¹˜æ³•è¡¨å­—å…¸: ")
for i, row in multiplication_table.items():
    print(f"{i}: {row}")
                            </textarea>
                            <button class="run-btn" onclick="runCode('comp_code4', 'comp_output4')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                            <div class="output" id="comp_output4"></div>
                        </div>
                    </div>
                </div>

                <!-- ç”Ÿæˆå¼æ¸¬é©— -->
                <div class="quiz-container">
                    <div class="quiz-header">âš¡ ç”Ÿæˆå¼èªæ³•æ¸¬é©—</div>
                    <div class="question" data-answer="1">
                        <div class="question-text">1. ä»¥ä¸‹å“ªå€‹æ¢ä»¶é‹ç®—å¼çš„å¯«æ³•æ˜¯æ­£ç¢ºçš„ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">if score >= 60 "pass" else "fail"</li>
                            <li class="option" data-value="1">"pass" if score >= 60 else "fail"</li>
                            <li class="option" data-value="2">score >= 60 ? "pass" : "fail"</li>
                            <li class="option" data-value="3">"pass" else "fail" if score >= 60</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="2">
                        <div class="question-text">2. ä»¥ä¸‹ç¨‹å¼ç¢¼çš„åŸ·è¡Œçµæœæ˜¯ä»€éº¼ï¼Ÿ</div>
                        <pre style="background: var(--code-bg); padding: 15px; border-radius: 5px;">
result = [x*2 for x in range(5) if x % 2 == 0]
print(result)
                        </pre>
                        <ul class="options">
                            <li class="option" data-value="0">[0, 2, 4, 6, 8]</li>
                            <li class="option" data-value="1">[0, 4, 8]</li>
                            <li class="option" data-value="2">[0, 4, 8]</li>
                            <li class="option" data-value="3">[2, 6]</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="0">
                        <div class="question-text">3. zip() å‡½å¼çš„ç‰¹æ€§ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">æœƒåœ¨æœ€çŸ­çš„åºåˆ—çµæŸæ™‚åœæ­¢</li>
                            <li class="option" data-value="1">æœƒåœ¨æœ€é•·çš„åºåˆ—çµæŸæ™‚åœæ­¢</li>
                            <li class="option" data-value="2">æ‰€æœ‰åºåˆ—å¿…é ˆæœ‰ç›¸åŒé•·åº¦</li>
                            <li class="option" data-value="3">åªèƒ½è™•ç†å…©å€‹åºåˆ—</li>
                        </ul>
                    </div>

                    <div class="question" data-answer="3">
                        <div class="question-text">4. å°‡å…©å€‹åˆ—è¡¨ names = ['A', 'B'] å’Œ ages = [20, 25] è½‰æ›æˆå­—å…¸çš„æœ€ä½³æ–¹æ³•æ˜¯ï¼Ÿ</div>
                        <ul class="options">
                            <li class="option" data-value="0">{names[i]: ages[i] for i in range(len(names))}</li>
                            <li class="option" data-value="1">dict(names, ages)</li>
                            <li class="option" data-value="2">{i: j for i in names for j in ages}</li>
                            <li class="option" data-value="3">{name: age for name, age in zip(names, ages)}</li>
                        </ul>
                    </div>

                    <button class="submit-btn" onclick="checkComprehensionsQuiz()">æäº¤ç­”æ¡ˆ</button>
                    <div id="comprehensionsScore" class="score-display" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- ç¶œåˆç·´ç¿’ -->
        <div id="practice" class="section">
            <div class="section-header">
                ğŸ† ç¶œåˆç·´ç¿’èˆ‡æ‡‰è€ƒç­–ç•¥
            </div>
            <div class="section-content">
                <div class="concept-card">
                    <div class="concept-title">ğŸ¯ æ‡‰è€ƒç­–ç•¥èˆ‡ç¸½è¤‡ç¿’å»ºè­°</div>
                    <div class="concept-description">
                        ä»¥ä¸‹æ˜¯é‡å°æœŸæœ«è€ƒè©¦çš„é‡é»è¤‡ç¿’ç­–ç•¥å’Œå¸¸è¦‹è€ƒé»æ•´ç†ã€‚
                    </div>

                    <div class="key-points">
                        <h4>ğŸ“ å¾©ç¿’ç­–ç•¥</h4>
                        <ul>
                            <li><strong>å‹•æ‰‹å¯«ç¨‹å¼ç¢¼</strong>: åªçœ‹æ˜¯æ²’ç”¨çš„ï¼ŒæŠŠæ¯å€‹ç¯„ä¾‹éƒ½è¦ªæ‰‹æ‰“ä¸€é</li>
                            <li><strong>ç†è§£ self</strong>: self æ˜¯ç‰©ä»¶å°å‘ä¸­æœ€é—œéµçš„æ¦‚å¿µ</li>
                            <li><strong>ç‰¹æ®Šæ–¹æ³•æ˜¯é—œéµ</strong>: ç†Ÿè¨˜ __init__, __str__, __repr__, __add__ ç­‰</li>
                            <li><strong>è§£é‡‹çµ¦åˆ¥äººè½</strong>: ç”¨è‡ªå·±çš„è©±è§£é‡‹ã€Œç¹¼æ‰¿ã€ã€ã€Œå°è£ã€ã€ã€Œå¤šå‹ã€</li>
                            <li><strong>ç”Ÿæˆå¼ > è¿´åœˆ</strong>: å„ªå…ˆä½¿ç”¨ç”Ÿæˆå¼å±•ç¾ Python ç†Ÿç·´åº¦</li>
                        </ul>
                    </div>
                </div>

                <div class="concept-card">
                    <div class="concept-title">ğŸ”¥ ç¶œåˆç·´ç¿’é¡Œ</div>
                    <div class="concept-description">
                        ä»¥ä¸‹æ˜¯çµåˆæ‰€æœ‰æ¦‚å¿µçš„ç¶œåˆç·´ç¿’ï¼Œå¹«ä½ æª¢é©—å­¸ç¿’æˆæœã€‚
                    </div>

                    <div class="code-container">
                        <div class="code-header">ç·´ç¿’é¡Œ: å»ºç«‹ä¸€å€‹å­¸ç”Ÿç®¡ç†ç³»çµ±</div>
                        <div class="code-content">
                            <textarea class="code-editor" id="practice_code1">
# ç·´ç¿’é¡Œ: å¯¦ä½œä¸€å€‹å®Œæ•´çš„å­¸ç”Ÿç®¡ç†ç³»çµ±
class Student:
    # é¡åˆ¥å±¬æ€§: è¨˜éŒ„å­¸ç”Ÿç¸½æ•¸
    total_students = 0
    
    def __init__(self, name, student_id, subjects_scores=None):
        if subjects_scores is None:
            subjects_scores = {}
        
        self.name = name
        self.__student_id = student_id  # ç§æœ‰å±¬æ€§
        self.__scores = subjects_scores.copy()  # ç§æœ‰å±¬æ€§
        
        # å¢åŠ å­¸ç”Ÿç¸½æ•¸
        Student.total_students += 1
        print(f"å­¸ç”Ÿ {name} å·²è¨»å†Šï¼Œå­¸è™Ÿ: {student_id}")
    
    def __str__(self):
        return f"å­¸ç”Ÿ: {self.name} (å­¸è™Ÿ: {self.__student_id})"
    
    def __repr__(self):
        return f"Student('{self.name}', '{self.__student_id}', {self.__scores})"
    
    # Getter æ–¹æ³•
    def get_student_id(self):
        return self.__student_id
    
    def get_scores(self):
        return self.__scores.copy()  # è¿”å›å‰¯æœ¬ï¼Œé¿å…å¤–éƒ¨ä¿®æ”¹
    
    # Setter æ–¹æ³•
    def add_score(self, subject, score):
        if not 0 <= score <= 100:
            raise ValueError("æˆç¸¾å¿…é ˆåœ¨ 0-100 ä¹‹é–“")
        self.__scores[subject] = score
        print(f"å·²ç‚º {self.name} æ–°å¢ {subject} æˆç¸¾: {score}")
    
    def calculate_average(self):
        if not self.__scores:
            return 0
        return sum(self.__scores.values()) / len(self.__scores)
    
    def get_grade(self):
        avg = self.calculate_average()
        if avg >= 90:
            return 'A'
        elif avg >= 80:
            return 'B'
        elif avg >= 70:
            return 'C'
        elif avg >= 60:
            return 'D'
        else:
            return 'F'
    
    # é‹ç®—å­å¤šè¼‰: æ¯”è¼ƒå¹³å‡æˆç¸¾
    def __gt__(self, other):
        return self.calculate_average() > other.calculate_average()
    
    def __eq__(self, other):
        return self.calculate_average() == other.calculate_average()
    
    @classmethod
    def get_total_students(cls):
        return cls.total_students

# å­é¡åˆ¥: ç ”ç©¶ç”Ÿ
class GraduateStudent(Student):
    def __init__(self, name, student_id, subjects_scores=None, research_topic="æœªå®š"):
        super().__init__(name, student_id, subjects_scores)
        self.research_topic = research_topic
    
    def __str__(self):
        base_info = super().__str__()
        return f"{base_info} [ç ”ç©¶ç”Ÿ] - ç ”ç©¶ä¸»é¡Œ: {self.research_topic}"
    
    def set_research_topic(self, topic):
        self.research_topic = topic
        print(f"{self.name} çš„ç ”ç©¶ä¸»é¡Œè¨­å®šç‚º: {topic}")

# ä½¿ç”¨ç³»çµ±
print("=== å»ºç«‹å­¸ç”Ÿ ===")
# å»ºç«‹æ™®é€šå­¸ç”Ÿ
s1 = Student("ç‹å°æ˜", "B001", {"æ•¸å­¸": 85, "è‹±æ–‡": 92, "ç‰©ç†": 78})
s2 = Student("æå°è¯", "B002", {"æ•¸å­¸": 88, "è‹±æ–‡": 85, "ç‰©ç†": 90})

# å»ºç«‹ç ”ç©¶ç”Ÿ
g1 = GraduateStudent("å¼µåšå£«", "G001", {"é«˜ç­‰æ•¸å­¸": 95, "ç ”ç©¶æ–¹æ³•": 88}, "äººå·¥æ™ºæ…§")

print(f"\nç¸½å­¸ç”Ÿæ•¸: {Student.get_total_students()}")

print("\n=== å­¸ç”Ÿè³‡è¨Š ===")
students = [s1, s2, g1]
for student in students:
    print(student)
    print(f"  å¹³å‡æˆç¸¾: {student.calculate_average():.2f}")
    print(f"  ç­‰ç´š: {student.get_grade()}")
    print()

print("=== æ–°å¢æˆç¸¾ ===")
s1.add_score("åŒ–å­¸", 90)
g1.set_research_topic("æ·±åº¦å­¸ç¿’åœ¨é†«å­¸å½±åƒçš„æ‡‰ç”¨")

print("\n=== æˆç¸¾æ’å ===")
# ä½¿ç”¨ç”Ÿæˆå¼å’Œæ’åº
sorted_students = sorted(students, key=lambda x: x.calculate_average(), reverse=True)
rankings = [(i+1, student.name, student.calculate_average()) 
           for i, student in enumerate(sorted_students)]

print("æ’å | å§“å | å¹³å‡æˆç¸¾")
print("-" * 25)
for rank, name, avg in rankings:
    print(f"{rank:2d}   | {name:6s} | {avg:6.2f}")

print("\n=== æˆç¸¾çµ±è¨ˆ ===")
# ä½¿ç”¨å­—å…¸ç”Ÿæˆå¼çµ±è¨ˆå„ç§‘å¹³å‡
all_scores = {}
for student in students:
    for subject, score in student.get_scores().items():
        if subject not in all_scores:
            all_scores[subject] = []
        all_scores[subject].append(score)

subject_averages = {
    subject: sum(scores) / len(scores) 
    for subject, scores in all_scores.items()
}

print("å„ç§‘å¹³å‡æˆç¸¾: ")
for subject, avg in subject_averages.items():
    print(f"{subject}: {avg:.2f}")

# æ‰¾å‡ºæœ€é«˜åˆ†çš„ç§‘ç›®
best_subject = max(subject_averages, key=subject_averages.get)
print(f"\nè¡¨ç¾æœ€å¥½çš„ç§‘ç›®: {best_subject} ({subject_averages[best_subject]:.2f})")
            </textarea>
            <button class="run-btn" onclick="runCode('practice_code1', 'practice_output1')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
            <div class="output" id="practice_output1"></div>
        </div>
    </div>

    <div class="concept-card">
        <div class="concept-title">ğŸ§  ä»£ç¢¼è¼¸å‡ºé æ¸¬ç·´ç¿’</div>
        <div class="concept-description">
            ä»¥ä¸‹æ˜¯æœŸæœ«è€ƒå¸¸è¦‹çš„ä»£ç¢¼è¼¸å‡ºé æ¸¬é¡Œå‹ï¼Œè«‹ä»”ç´°åˆ†ææ¯è¡Œä»£ç¢¼çš„åŸ·è¡Œçµæœã€‚
        </div>

        <div class="code-container">
            <div class="code-header">ç·´ç¿’: é æ¸¬è¼¸å‡ºçµæœ</div>
            <div class="code-content">
                <textarea class="code-editor" id="practice_code2">
# ä»£ç¢¼è¼¸å‡ºé æ¸¬ç·´ç¿’
print("=== ç·´ç¿’ 1: é¡åˆ¥å±¬æ€§ vs å¯¦ä¾‹å±¬æ€§ ===")

class Counter:
    count = 0
    
    def __init__(self):
        Counter.count += 1
        self.instance_count = Counter.count

c1 = Counter()
c2 = Counter()
c3 = Counter()

print(f"Counter.count = {Counter.count}")
print(f"c1.instance_count = {c1.instance_count}")
print(f"c2.instance_count = {c2.instance_count}")
print(f"c3.instance_count = {c3.instance_count}")

# ä¿®æ”¹é¡åˆ¥å±¬æ€§
Counter.count = 100
c4 = Counter()
print(f"å»ºç«‹ c4 å¾Œï¼ŒCounter.count = {Counter.count}")
print(f"c4.instance_count = {c4.instance_count}")

print("\n=== ç·´ç¿’ 2: ç¹¼æ‰¿å’Œè¦†è“‹ ===")

class Animal:
    def __init__(self, name):
        self.name = name
        print(f"Animal.__init__: {name}")
    
    def speak(self):
        return f"{self.name} makes a sound"

class Dog(Animal):
    def __init__(self, name, breed):
        print(f"Dog.__init__ é–‹å§‹: {name}")
        super().__init__(name)
        self.breed = breed
        print(f"Dog.__init__ çµæŸ: {breed}")
    
    def speak(self):
        return f"{self.name} barks"

class Puppy(Dog):
    def speak(self):
        parent_sound = super().speak()
        return f"{parent_sound} softly"

p = Puppy("å°ç™½", "æŸ´çŠ¬")
print(p.speak())

print("\n=== ç·´ç¿’ 3: ç”Ÿæˆå¼çµ„åˆ ===")

# è¤‡é›œçš„ç”Ÿæˆå¼
numbers = range(1, 6)
result1 = [x**2 for x in numbers if x % 2 == 0]
print(f"result1 = {result1}")

result2 = {x: [y for y in range(x)] for x in range(1, 4)}
print(f"result2 = {result2}")

# zip å’Œå­—å…¸ç”Ÿæˆå¼
keys = ['a', 'b', 'c']
values = [1, 2, 3, 4, 5]  # æ³¨æ„é•·åº¦ä¸åŒ
result3 = {k: v*2 for k, v in zip(keys, values)}
print(f"result3 = {result3}")

print("\n=== ç·´ç¿’ 4: é‹ç®—å­å¤šè¼‰ ===")

class Point:
    def __init__(self, x, y):
        self.x, self.y = x, y
    
    def __str__(self):
        return f"({self.x}, {self.y})"
    
    def __add__(self, other):
        return Point(self.x + other.x, self.y + other.y)
    
    def __mul__(self, scalar):
        return Point(self.x * scalar, self.y * scalar)

p1 = Point(1, 2)
p2 = Point(3, 4)
p3 = p1 + p2
p4 = p1 * 3

print(f"p1 = {p1}")
print(f"p2 = {p2}")
print(f"p1 + p2 = {p3}")
print(f"p1 * 3 = {p4}")

print("\n=== ç·´ç¿’ 5: æ¢ä»¶é‹ç®—å¼åµŒå¥— ===")

def categorize_number(n):
    return ("æ­£æ•¸" if n > 0 else "è² æ•¸") if n != 0 else "é›¶"

test_numbers = [-5, 0, 3, -1, 10]
categories = [categorize_number(n) for n in test_numbers]
print(f"æ•¸å­—åˆ†é¡: {list(zip(test_numbers, categories))}")

# æ›´è¤‡é›œçš„æ¢ä»¶é‹ç®—å¼
grades = [95, 87, 73, 65, 45, 92]
descriptions = [
    f"{grade}åˆ†-{'å„ªç§€' if grade >= 90 else 'è‰¯å¥½' if grade >= 80 else 'æ™®é€š' if grade >= 70 else 'éœ€è¦åŠªåŠ›'}"
    for grade in grades
]

for desc in descriptions:
    print(desc)
                </textarea>
                <button class="run-btn" onclick="runCode('practice_code2', 'practice_output2')">â–¶ï¸ åŸ·è¡Œç¨‹å¼ç¢¼</button>
                <div class="output" id="practice_output2"></div>
            </div>
        </div>
    </div>

    <!-- ç¶œåˆæ¸¬é©— -->
    <div class="quiz-container">
        <div class="quiz-header">ğŸ† æœŸæœ«è€ƒæ¨¡æ“¬æ¸¬é©—</div>
        
        <div class="question" data-answer="2">
            <div class="question-text">1. åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼å¾Œï¼Œè¼¸å‡ºçµæœæ˜¯ä»€éº¼ï¼Ÿ</div>
            <pre style="background: var(--code-bg); padding: 15px; border-radius: 5px;">
class Test:
    x = 5

t1 = Test()
t2 = Test()
t1.x = 10
Test.x = 15
t3 = Test()
print(t2.x, t3.x)
            </pre>
            <ul class="options">
                <li class="option" data-value="0">10 15</li>
                <li class="option" data-value="1">5 5</li>
                <li class="option" data-value="2">15 15</li>
                <li class="option" data-value="3">10 10</li>
            </ul>
        </div>

        <div class="question" data-answer="1">
            <div class="question-text">2. é—œæ–¼ super() çš„ä½¿ç”¨ï¼Œä»¥ä¸‹ä½•è€…æ­£ç¢ºï¼Ÿ</div>
            <ul class="options">
                <li class="option" data-value="0">super() åªèƒ½åœ¨ __init__ æ–¹æ³•ä¸­ä½¿ç”¨</li>
                <li class="option" data-value="1">super() å¯ä»¥å‘¼å«çˆ¶é¡åˆ¥çš„ä»»ä½•æ–¹æ³•</li>
                <li class="option" data-value="2">super() æœƒå»ºç«‹çˆ¶é¡åˆ¥çš„æ–°å¯¦ä¾‹</li>
                <li class="option" data-value="3">å­é¡åˆ¥å¿…é ˆä½¿ç”¨ super() æ‰èƒ½ç¹¼æ‰¿</li>
            </ul>
        </div>

        <div class="question" data-answer="3">
            <div class="question-text">3. ä»¥ä¸‹ç¨‹å¼ç¢¼çš„åŸ·è¡Œçµæœæ˜¯ï¼Ÿ</div>
            <pre style="background: var(--code-bg); padding: 15px; border-radius: 5px;">
result = {x: y for x in range(3) for y in range(2) if x + y == 2}
print(len(result))
            </pre>
            <ul class="options">
                <li class="option" data-value="0">6</li>
                <li class="option" data-value="1">3</li>
                <li class="option" data-value="2">2</li>
                <li class="option" data-value="3">1</li>
            </ul>
        </div>

        <div class="question" data-answer="0">
            <div class="question-text">4. å¤šå‹ (Polymorphism) æœ€ä¸»è¦é«”ç¾åœ¨å“ªè£¡ï¼Ÿ</div>
            <ul class="options">
                <li class="option" data-value="0">ä¸åŒé¡åˆ¥çš„ç‰©ä»¶å¯ä»¥éŸ¿æ‡‰ç›¸åŒçš„æ–¹æ³•èª¿ç”¨</li>
                <li class="option" data-value="1">ä¸€å€‹é¡åˆ¥å¯ä»¥æœ‰å¤šå€‹å»ºæ§‹å­</li>
                <li class="option" data-value="2">ç‰©ä»¶å¯ä»¥æ”¹è®Šè‡ªå·±çš„é¡åˆ¥</li>
                <li class="option" data-value="3">æ–¹æ³•å¯ä»¥æœ‰å¤šå€‹è¿”å›å€¼</li>
            </ul>
        </div>

        <div class="question" data-answer="2">
            <div class="question-text">5. ä»¥ä¸‹å“ªå€‹æ˜¯æœ€ Pythonic çš„å¯«æ³•ï¼Ÿ</div>
            <ul class="options">
                <li class="option" data-value="0">
                    <pre>result = []
for i in range(len(names)):
    result.append((names[i], ages[i]))</pre>
                </li>
                <li class="option" data-value="1">
                    <pre>result = []
for i, name in enumerate(names):
    result.append((name, ages[i]))</pre>
                </li>
                <li class="option" data-value="2">
                    <pre>result = list(zip(names, ages))</pre>
                </li>
                <li class="option" data-value="3">
                    <pre>result = [(names[i], ages[i]) for i in range(len(names))]</pre>
                </li>
            </ul>
        </div>

        <button class="submit-btn" onclick="checkFinalQuiz()">æäº¤ç­”æ¡ˆ</button>
        <div id="finalScore" class="score-display" style="display: none;"></div>
    </div>

    <div class="concept-card">
        <div class="concept-title">ğŸ“ å­¸ç¿’å®Œæˆï¼</div>
        <div class="concept-description">
            æ­å–œä½ å®Œæˆäº† Python ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆçš„å®Œæ•´å­¸ç¿’ï¼è¨˜ä½ï¼Œç¨‹å¼è¨­è¨ˆæ˜¯ä¸€é–€å¯¦è¸çš„è—è¡“ï¼Œå¤šå¯«å¤šç·´æ‰èƒ½çœŸæ­£æŒæ¡ã€‚
        </div>
        
        <div class="memory-tip">
            <h4>ğŸ”‘ æœ€å¾Œçš„å®åš€</h4>
            <ul>
                <li>ç†è§£æ¦‚å¿µæ¯”è¨˜ä½èªæ³•æ›´é‡è¦</li>
                <li>å¤šç·´ç¿’å„ç¨®é¡Œå‹ï¼Œç‰¹åˆ¥æ˜¯ä»£ç¢¼è¼¸å‡ºé æ¸¬</li>
                <li>å­¸æœƒé–±è®€éŒ¯èª¤è¨Šæ¯ï¼Œå®ƒå€‘æ˜¯ä½ æœ€å¥½çš„è€å¸«</li>
                <li>ä¿æŒå¥½å¥‡å¿ƒï¼ŒæŒçºŒå­¸ç¿’æ–°çš„ç¨‹å¼è¨­è¨ˆæ¦‚å¿µ</li>
            </ul>
            </div>
        </div>
            </div>
        </div>
        </div>
        </div>
    </div>

    <div class="loading" id="loading" style="display: none;">
        <div class="spinner"></div>
        <p>æ­£åœ¨è¼‰å…¥ Python ç’°å¢ƒ...</p>
    </div>

    <script>
        let pyodide;
        let totalQuestions = 0;
        let correctAnswers = 0;

        // åˆå§‹åŒ– Pyodide
        async function initPyodide() {
            if (!pyodide) {
                document.getElementById('loading').style.display = 'block';
                try {
                    pyodide = await loadPyodide();
                    console.log("Pyodide è¼‰å…¥å®Œæˆ");
                } catch (error) {
                    console.error("Pyodide è¼‰å…¥å¤±æ•—:", error);
                } finally {
                    document.getElementById('loading').style.display = 'none';
                }
            }
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ– Pyodide
        window.addEventListener('load', initPyodide);

        // åˆ‡æ›å´é‚Šæ¬„é¡¯ç¤º/éš±è—
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.mobile-overlay');
            const icon = document.getElementById('toggleIcon');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('show');
                overlay.classList.toggle('show');
                icon.textContent = sidebar.classList.contains('show') ? 'âœ•' : 'â˜°';
            }
        }

        // é¡¯ç¤ºä¸åŒç« ç¯€
        function showSection(sectionId) {
            // éš±è—æ‰€æœ‰ç« ç¯€
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            // é¡¯ç¤ºæŒ‡å®šç« ç¯€
            document.getElementById(sectionId).classList.add('active');

            // æ›´æ–°å°èˆªæŒ‰éˆ•
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // åœ¨ç§»å‹•ç«¯é»æ“Šå°èˆªå¾Œéš±è—å´é‚Šæ¬„
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }

            // æ›´æ–°é€²åº¦æ¢
            updateProgress();
            
            // æ»¾å‹•åˆ°é ‚éƒ¨
            document.querySelector('.main-content').scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // åŸ·è¡Œ Python ç¨‹å¼ç¢¼
        async function runCode(codeId, outputId) {
            const code = document.getElementById(codeId).value;
            const output = document.getElementById(outputId);

            if (!pyodide) {
                output.textContent = "æ­£åœ¨è¼‰å…¥ Python ç’°å¢ƒï¼Œè«‹ç¨å€™...";
                await initPyodide();
            }

            try {
                // é‡å®šå‘ stdout
                pyodide.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
                `);

                // åŸ·è¡Œç”¨æˆ¶ä»£ç¢¼
                pyodide.runPython(code);

                // ç²å–è¼¸å‡º
                const stdout = pyodide.runPython("sys.stdout.getvalue()");
                output.textContent = stdout;

                // é‡è¨­ stdout
                pyodide.runPython("sys.stdout = sys.__stdout__");
            } catch (error) {
                output.textContent = `éŒ¯èª¤: ${error.message}`;
                output.style.color = '#e74c3c';
            }
        }

        // æª¢æŸ¥åŸºç¤æ¦‚å¿µæ¸¬é©—
        function checkBasicsQuiz() {
            checkQuiz('basicsScore', [
                { element: document.querySelector('[data-answer="1"]'), correctAnswer: 1 },
                { element: document.querySelector('[data-answer="2"]'), correctAnswer: 2 },
                { element: document.querySelector('[data-answer="1"]:nth-of-type(3)'), correctAnswer: 1 }
            ]);
        }

        // æª¢æŸ¥é€²éšæ¦‚å¿µæ¸¬é©—
        function checkAdvancedQuiz() {
            const questions = document.querySelectorAll('#advanced .question');
            const answers = [2, 1, 3]; // æ­£ç¢ºç­”æ¡ˆ
            checkQuizGeneric('advancedScore', questions, answers);
        }

        // æª¢æŸ¥ç”Ÿæˆå¼æ¸¬é©—
        function checkComprehensionsQuiz() {
            const questions = document.querySelectorAll('#comprehensions .question');
            const answers = [1, 2, 0, 3]; // æ­£ç¢ºç­”æ¡ˆ
            checkQuizGeneric('comprehensionsScore', questions, answers);
        }

        // æª¢æŸ¥æœŸæœ«æ¨¡æ“¬æ¸¬é©—
        function checkFinalQuiz() {
            const questions = document.querySelectorAll('#practice .question');
            const answers = [2, 1, 3, 0, 2]; // æ­£ç¢ºç­”æ¡ˆ
            checkQuizGeneric('finalScore', questions, answers);
        }

        // é€šç”¨æ¸¬é©—æª¢æŸ¥å‡½æ•¸
        function checkQuizGeneric(scoreId, questions, correctAnswers) {
            let score = 0;
            const totalQuestions = questions.length;

            questions.forEach((question, index) => {
                const selectedOption = question.querySelector('.option.selected');
                const options = question.querySelectorAll('.option');
                
                if (selectedOption) {
                    const selectedValue = parseInt(selectedOption.dataset.value);
                    if (selectedValue === correctAnswers[index]) {
                        score++;
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                        options[correctAnswers[index]].classList.add('correct');
                    }
                } else {
                    // æ²’æœ‰é¸æ“‡ç­”æ¡ˆï¼Œé¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                    options[correctAnswers[index]].classList.add('correct');
                }

                // ç¦ç”¨æ‰€æœ‰é¸é …
                options.forEach(option => {
                    option.style.pointerEvents = 'none';
                });
            });

            // æ›´æ–°çµ±è¨ˆ
            updateStats(totalQuestions, score);

            // é¡¯ç¤ºåˆ†æ•¸
            const scoreDisplay = document.getElementById(scoreId);
            const percentage = Math.round((score / totalQuestions) * 100);
            scoreDisplay.innerHTML = `
                <h3>æ¸¬é©—çµæœ</h3>
                <p>ç­”å° ${score} / ${totalQuestions} é¡Œ</p>
                <p>æ­£ç¢ºç‡: ${percentage}%</p>
                ${percentage >= 80 ? '<p style="color: #27ae60;">ğŸ‰ è¡¨ç¾å„ªç§€ï¼</p>' : 
                  percentage >= 60 ? '<p style="color: #f39c12;">âš ï¸ é‚„éœ€è¦å¤šç·´ç¿’</p>' : 
                  '<p style="color: #e74c3c;">âŒ å»ºè­°é‡æ–°è¤‡ç¿’ç›¸é—œæ¦‚å¿µ</p>'}
            `;
            scoreDisplay.style.display = 'block';
        }

        // é€šç”¨æ¸¬é©—æª¢æŸ¥å‡½æ•¸ï¼ˆèˆŠç‰ˆå…¼å®¹ï¼‰
        function checkQuiz(scoreId, questionsData) {
            let score = 0;
            const totalQuestions = questionsData.length;

            questionsData.forEach(({ element, correctAnswer }) => {
                const selectedOption = element.querySelector('.option.selected');
                const options = element.querySelectorAll('.option');
                
                if (selectedOption) {
                    const selectedValue = parseInt(selectedOption.dataset.value);
                    if (selectedValue === correctAnswer) {
                        score++;
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                        options[correctAnswer].classList.add('correct');
                    }
                } else {
                    // æ²’æœ‰é¸æ“‡ç­”æ¡ˆï¼Œé¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                    options[correctAnswer].classList.add('correct');
                }

                // ç¦ç”¨æ‰€æœ‰é¸é …
                options.forEach(option => {
                    option.style.pointerEvents = 'none';
                });
            });

            // æ›´æ–°çµ±è¨ˆ
            updateStats(totalQuestions, score);

            // é¡¯ç¤ºåˆ†æ•¸
            const scoreDisplay = document.getElementById(scoreId);
            const percentage = Math.round((score / totalQuestions) * 100);
            scoreDisplay.innerHTML = `
                <h3>æ¸¬é©—çµæœ</h3>
                <p>ç­”å° ${score} / ${totalQuestions} é¡Œ</p>
                <p>æ­£ç¢ºç‡: ${percentage}%</p>
                ${percentage >= 80 ? '<p style="color: #27ae60;">ğŸ‰ è¡¨ç¾å„ªç§€ï¼</p>' : 
                  percentage >= 60 ? '<p style="color: #f39c12;">âš ï¸ é‚„éœ€è¦å¤šç·´ç¿’</p>' : 
                  '<p style="color: #e74c3c;">âŒ å»ºè­°é‡æ–°è¤‡ç¿’ç›¸é—œæ¦‚å¿µ</p>'}
            `;
            scoreDisplay.style.display = 'block';
        }

        // æ›´æ–°çµ±è¨ˆè³‡æ–™
        function updateStats(questions, correct) {
            totalQuestions += questions;
            correctAnswers += correct;
            
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = correctAnswers;
            document.getElementById('accuracy').textContent = 
                totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) + '%' : '0%';
        }

        // æ›´æ–°é€²åº¦æ¢
        function updateProgress() {
            const sections = document.querySelectorAll('.section');
            const activeSection = document.querySelector('.section.active');
            const currentIndex = Array.from(sections).indexOf(activeSection);
            const progress = ((currentIndex + 1) / sections.length) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // é¸é …é»æ“Šäº‹ä»¶
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('option')) {
                const question = e.target.closest('.question');
                const options = question.querySelectorAll('.option');
                
                // æ¸…é™¤ä¹‹å‰çš„é¸æ“‡
                options.forEach(option => option.classList.remove('selected'));
                
                // è¨­å®šæ–°çš„é¸æ“‡
                e.target.classList.add('selected');
            }
        });

        // åˆå§‹åŒ–é€²åº¦æ¢
        updateProgress();

        // è™•ç†çª—å£å¤§å°è®ŠåŒ–
        window.addEventListener('resize', function() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.mobile-overlay');
            const icon = document.getElementById('toggleIcon');
            
            if (window.innerWidth > 768) {
                // æ¡Œé¢æ¨¡å¼ï¼šé¡¯ç¤ºå´é‚Šæ¬„ï¼Œéš±è—é®ç½©
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
                icon.textContent = 'â˜°';
            } else {
                // ç§»å‹•ç«¯æ¨¡å¼ï¼šéš±è—å´é‚Šæ¬„
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
                icon.textContent = 'â˜°';
            }
        });

        // æ·»åŠ éµç›¤å¿«æ·éµæ”¯æŒ
        document.addEventListener('keydown', function(e) {
            // ESCéµé—œé–‰å´é‚Šæ¬„
            if (e.key === 'Escape' && window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                if (sidebar.classList.contains('show')) {
                    toggleSidebar();
                }
            }
        });

        // æ·»åŠ  smooth scrolling
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setTimeout(() => {
                    const mainContent = document.querySelector('.main-content');
                    if (mainContent) {
                        mainContent.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    }
                }, 100);
            });
        });
    </script>
</body>
</html>